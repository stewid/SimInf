<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a SimInf_model — SimInf_model • SimInf</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a SimInf_model — SimInf_model"><meta name="description" content="Create a SimInf_model"><meta property="og:description" content="Create a SimInf_model"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SimInf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">9.8.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/mparse.html">Getting started with `mparse`</a></li>
    <li><a class="dropdown-item" href="../articles/post-process-data.html">Post-process data in a trajectory</a></li>
    <li><a class="dropdown-item" href="../articles/scheduled-events.html">Scheduled events</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stewid/SimInf/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create a <code>SimInf_model</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/stewid/SimInf/blob/main/R/SimInf_model.R" class="external-link"><code>R/SimInf_model.R</code></a></small>
      <div class="d-none name"><code>SimInf_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a <code>SimInf_model</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">SimInf_model</span><span class="op">(</span></span>
<span>  <span class="va">G</span>,</span>
<span>  <span class="va">S</span>,</span>
<span>  <span class="va">tspan</span>,</span>
<span>  events <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ldata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gdata <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  U <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  u0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  v0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  V <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  E <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  N <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  C_code <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-g">G<a class="anchor" aria-label="anchor" href="#arg-g"></a></dt>
<dd><p>Dependency graph that indicates the transition rates that
need to be updated after a given state transition has occured.
A non-zero entry in element <code>G[i, i]</code> indicates that
transition rate <code>i</code> needs to be recalculated if the state
transition <code>j</code> occurs. Sparse matrix (\(Nt \times Nt\))
of object class
<code><a href="https://rdrr.io/pkg/Matrix/man/dgCMatrix-class.html" class="external-link">dgCMatrix</a></code>.</p></dd>


<dt id="arg-s">S<a class="anchor" aria-label="anchor" href="#arg-s"></a></dt>
<dd><p>Each column corresponds to a transition, and execution of
state transition <code>j</code> amounts to adding the <code>S[, j]</code>
to the state vector of the node where the state transition
occurred.  Sparse matrix (\(Nc \times Nt\)) of object class
<code><a href="https://rdrr.io/pkg/Matrix/man/dgCMatrix-class.html" class="external-link">dgCMatrix</a></code>.</p></dd>


<dt id="arg-tspan">tspan<a class="anchor" aria-label="anchor" href="#arg-tspan"></a></dt>
<dd><p>A vector (length &gt;= 1) of increasing time points
where the state of each node is to be returned. Can be either
an <code>integer</code> or a <code>Date</code> vector. A <code>Date</code>
vector is coerced to a numeric vector as days, where
<code>tspan[1]</code> becomes the day of the year of the first year
of <code>tspan</code>. The dates are added as names to the numeric
vector.</p></dd>


<dt id="arg-events">events<a class="anchor" aria-label="anchor" href="#arg-events"></a></dt>
<dd><p>A <code>data.frame</code> with the scheduled events.</p></dd>


<dt id="arg-ldata">ldata<a class="anchor" aria-label="anchor" href="#arg-ldata"></a></dt>
<dd><p>local data for the nodes. Can either be specified as
a <code>data.frame</code> with one row per node. Or as a matrix
where each column <code>ldata[, j]</code> contains the local data
vector for the node <code>j</code>. The local data vector is passed
as an argument to the transition rate functions and the post
time step function.</p></dd>


<dt id="arg-gdata">gdata<a class="anchor" aria-label="anchor" href="#arg-gdata"></a></dt>
<dd><p>A numeric vector with global data that is common to
all nodes. The global data vector is passed as an argument to
the transition rate functions and the post time step function.</p></dd>


<dt id="arg-u">U<a class="anchor" aria-label="anchor" href="#arg-u"></a></dt>
<dd><p>The result matrix with the number of individuals in each
disease state in every node (\(N_n N_c \times\)
<code>length(tspan)</code>).  <code>U[, j]</code> contains the number of
individuals in each disease state at
<code>tspan[j]</code>. <code>U[1:Nc, j]</code> contains the state of node
<code>1</code> at <code>tspan[j]</code>. <code>U[(Nc + 1):(2 * Nc), j]</code>
contains the state of node <code>2</code> at <code>tspan[j]</code> etc.</p></dd>


<dt id="arg-u-">u0<a class="anchor" aria-label="anchor" href="#arg-u-"></a></dt>
<dd><p>The initial state vector. Either a matrix (\(N_c
\times N_n\)) or a a <code>data.frame</code> with the number of
individuals in each compartment in every node.</p></dd>


<dt id="arg-v-">v0<a class="anchor" aria-label="anchor" href="#arg-v-"></a></dt>
<dd><p>The initial continuous state vector in every node.
(<code>dim(ldata)[1]</code> \(\times N_N\)). The continuous state
vector is updated by the specific model during the simulation
in the post time step function.</p></dd>


<dt id="arg-v">V<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>The result matrix for the real-valued continous
compartment state (\(N_n\)<code>dim(ldata)[1]</code> \(\times\)
<code>length(tspan)</code>).  <code>V[, j]</code> contains the real-valued
state of the system at <code>tspan[j]</code>.</p></dd>


<dt id="arg-e">E<a class="anchor" aria-label="anchor" href="#arg-e"></a></dt>
<dd><p>Sparse matrix to handle scheduled events, see
<code><a href="SimInf_events-class.html">SimInf_events</a></code>.</p></dd>


<dt id="arg-n">N<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Sparse matrix to handle scheduled events, see
<code><a href="SimInf_events-class.html">SimInf_events</a></code>.</p></dd>


<dt id="arg-c-code">C_code<a class="anchor" aria-label="anchor" href="#arg-c-code"></a></dt>
<dd><p>Character vector with optional model C code. If
non-empty, the C code is written to a temporary C-file when
the <code>run</code> method is called.  The temporary C-file is
compiled and the resulting DLL is dynamically loaded. The DLL
is unloaded and the temporary files are removed after running
the model.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><a href="SimInf_model-class.html">SimInf_model</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefan Widgren, Robin Eriksson, Stefan Engblom, Pavol Bauer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

